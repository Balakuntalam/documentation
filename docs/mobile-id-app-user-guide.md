# Mobile Resident Application

## Overview

The mobile Resident app is like a digital wallet wherein a resident can generate their credentials, store it and use it as required. Additionaly, they can also generate and share the credentials of their family members and avail services in the private and public sectors.

In this phase, the mobile Resident app is currently available for Android users only. Shortly, the support will be extended to iOS users as well.

## Installing the MOSIP Mobile Resident Application (app)

1. Locate the app on Play Store for Android devices./ Download xyz.apk file to install the Mobile Resident app.
2. Confirm installation of the app. Tap **Install**  to proceed.

<img src="_images/mobile-app-install.jpeg" width="200" height="400">  

You can see the installation in progress.

<img src="_images/mobile-app-installing.jpeg" width="200" height="400">

3. On successful installation, click **Open**.

<img src="_images/mobile-app-installed.jpeg" width="200" height="400">


## First launch of the app and initial setup

1. On the first launch, you will see a prompt asking you to `Allow Mosip Resident App to access the device's location`.
2. Tap **Allow/ Deny** as per your wish.

<img src="_images/mobile-app-allow-deny.jpeg" width="200" height="400">

3. Click **Get Started** to setup the app.

<img src="_images/mobile-app-getting-started.jpeg" width="200" height="400">

4. You will now be given an option to either setup your biometrics or a passcode for unlocking the application. For now, the app supports the passcode option.

5. Choose `I'd rather use a passcode`.

<img src="_images/mobile-app-passcode.jpeg" width="200" height="400">

6. Re-enter the passcode to confirm the same.

<img src="_images/mobile-app-confirm-passcode.jpeg" width="200" height="400">

7. On the Home screen, you will now see a few options and icons alongwith some tooltips.

<img src="_images/mobile-app-welcome-home.jpeg" width="200" height="400">


## Generating credentials

It is recommended to keep your digital credentials (ID) with you at all times. To get started with the app, **add IDs** to your profile.
   * Once generated, IDs are safely stored on your mobile and can be renamed or shared at any time.
   * Easy sharing option: Share and receive IDs swiftly using your phone camera to scan QR codes.

1. On the Home screen, tap **Add ID**.

<img src="_images/mobile-app-add-id.jpeg" width="200" height="400">

2. From the dropdown, select either UIN or VID of the ID you wish to retrieve. 

<img src="_images/mobile-app-uin-dropdown.jpeg" width="200" height="400">

3. If you have selected UIN as the option, enter the UIN and tap **Generate ID**. 

<img src="_images/mobile-app-enter-uin.jpeg" width="200" height="400">

4. Enter the 6-digit verification code (OTP) sent on your registered number (can autofill the number from messages).

<img src="_images/mobile-app-otp.jpeg" width="200" height="400">

5. Wait while your ID is getting downloaded and click **Back Home**.

<img src="_images/mobile-app-download-id.jpeg" width="200" height="400">

6. Under `My IDs` tab, you will be able to view your digital credentials/ ID against the UIN entered.

<img src="_images/mobile-app-my-id.jpeg" width="200" height="400">

7. For more details, click on the arrow mark towards the right corner in the ID generated. You can view the following details:

        * Generated date
        * UIN
        * Status
        * Details like the photograph, name, address, email, etc. 
        
<img src="_images/mobile-app-detailed-view.jpeg" width="200" height="400">     
      
8. Click **Edit Tag** (pencil icon in detailed view) and update the ID name as required.

<img src="_images/mobile-id-edit-tag.jpeg" width="200" height="400">

9. Enter the new name and click **Save**. You will now see the updated labels being displayed.
    
<img src="_images/mobile-app-edited-tag.jpeg" width="200" height="400">

Likewise, the resident can tap `Add ID` to generate the credentials for their family or friends.

10. You can view the history of the credentials downloaded under the `History` tab on the top right corner.

## Sharing credentials

Pre-requisites:

* Two devices with the Mobile Resident app installed are required for sharing credentials.
* All required permissions like Bluetooth, location and camera access are enabled on both the devices.
* The parties involved are mostly likely a Resident who would want to share their credentials with a Relying party (can be with a banker/ health worker/ etc).

Let us understand sharing of credentials with an example. 

Assuming that a Resident having Device A wants to share their credentials with a health worker having Device B. The steps that both the parties have to follow is illustrated below:

1. The Resident taps on the `Scan` icon on their phone (On the bottom menu, second icon from left). 

   Click **OK** to turn on the device' location.

<img src="_images/mobile-app-scan-qr-code.jpeg" width="200" height="400">    

2. Tap **Allow** to `Allow Mosip Resident App for taking pictures and recording videos.`

<img src="_images/mobile-app-scanqr-allow.jpeg" width="200" height="400">   

3. The Resident' device is ready for scanning the QR code that will be displayed on the Relying party' phone.

4. On the Relying party' phone, press the Request icon which is the third icon from the left. 

   Tap **Allow** to enable bluetooth on Device B.

<img src="_images/mobile-app-deviceB-bluetooth.jpeg" width="200" height="400">

5. You can now see that the Resident' device scans the QR code displayed on Device B.

<img src="_images/mobile-app-scanner-ready.jpeg" width="200" height="400">   <img src="_images/mobile-app-qr-code.jpeg" width="200" height="400"> 

6. The status on the Resident' device is displayed as "Connecting..".

<img src="_images/mobile-app-device1-connecting.jpeg" width="200" height="400"> 

7. Once the connection is made, the Sharing ID screen is displayed on the Resident' devide. This screen has the following details:

    * Requested by: Device B
    * Device name
    * Device Reference number
    * Reason for sharing (optional)

<img src="_images/mobile-app-sharing-id.jpeg" width="200" height="400"> 

8. Resident can enter the reason for sharing the credentials and tap `Accept request and choose ID`.

<img src="_images/mobile-app-reason-sharing-id.jpeg" width="200" height="400"> 

9. The Resident now selects the ID to be shared with the Relying party and taps on **Share**

<img src="_images/mobile-app-select-id.jpeg" width="200" height="400">

10. You can now see that sharing is in progress from Device A to B.

<img src="_images/mobile-app-sharing-in-progress.jpeg" width="200" height="400">

11. The Relying party' phone displays `Accept request and receive ID`.

<img src="_images/mobile-app-receive-id.jpeg" width="200" height="400">

This is followed by a success message on receiving the ID.

<img src="_images/mobile-app-receive-success.jpeg" width="200" height="400">

12. Relying party taps on `Received IDs` to view the ID received.

<img src="_images/mobile-app-device2-received-ids.jpeg" width="200" height="400">

13. `History` tab on the Relying party' device shows the history of the downloaded IDs.

<img src="_images/mobile-app-device2-history.jpeg" width="200" height="400">

